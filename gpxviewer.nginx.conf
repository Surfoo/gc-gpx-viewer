# Static assets with aggressive caching
location ^~ /gpxviewer/assets/ {
    alias /var/www/geocaching/gpxviewer/public/assets/;
    try_files $uri =404;
    access_log off;
    add_header Cache-Control "public, max-age=31536000, immutable";
}

# App shell, manifest, favicons, and fallthrough to SPA entry
location /gpxviewer/ {
    alias /var/www/geocaching/gpxviewer/public/;
    try_files $uri $uri/ /gpxviewer/index.html;
}
